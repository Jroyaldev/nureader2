/* Glass Morphism Design System */

/* CSS Variables for consistent glass effects */
:root {
  /* Light mode glass variables */
  --glass-bg-primary: rgba(255, 255, 255, 0.95);
  --glass-bg-secondary: rgba(255, 255, 255, 0.90);
  --glass-bg-tertiary: rgba(255, 255, 255, 0.85);
  --glass-bg-overlay: rgba(255, 255, 255, 0.98);
  
  --glass-border: rgba(0, 0, 0, 0.1);
  --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.15);
  
  --backdrop-blur-sm: 8px;
  --backdrop-blur-md: 12px;
  --backdrop-blur-lg: 20px;
  --backdrop-blur-xl: 24px;
  
  /* Modal backdrop with better opacity */
  --modal-backdrop: rgba(0, 0, 0, 0.5);
}

/* Dark mode glass variables */
[data-theme="dark"] {
  --glass-bg-primary: rgba(17, 24, 39, 0.95);
  --glass-bg-secondary: rgba(17, 24, 39, 0.90);
  --glass-bg-tertiary: rgba(17, 24, 39, 0.85);
  --glass-bg-overlay: rgba(17, 24, 39, 0.98);
  
  --glass-border: rgba(255, 255, 255, 0.1);
  --glass-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.3);
  
  --modal-backdrop: rgba(0, 0, 0, 0.7);
}

/* Utility classes for glass effects */
.glass-primary {
  background: var(--glass-bg-primary);
  backdrop-filter: blur(var(--backdrop-blur-md));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-md));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

.glass-secondary {
  background: var(--glass-bg-secondary);
  backdrop-filter: blur(var(--backdrop-blur-sm));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-sm));
  border: 1px solid var(--glass-border);
}

.glass-tertiary {
  background: var(--glass-bg-tertiary);
  backdrop-filter: blur(var(--backdrop-blur-sm));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-sm));
  border: 1px solid var(--glass-border);
}

.glass-overlay {
  background: var(--glass-bg-overlay);
  backdrop-filter: blur(var(--backdrop-blur-xl));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-xl));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* Modal specific glass */
.glass-modal {
  background: var(--glass-bg-overlay);
  backdrop-filter: blur(var(--backdrop-blur-lg));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-lg));
  border: 1px solid var(--glass-border);
  box-shadow: var(--glass-shadow);
}

/* Backdrop for modals */
.modal-backdrop {
  background: var(--modal-backdrop);
  backdrop-filter: blur(4px);
  -webkit-backdrop-filter: blur(4px);
}

/* Ensure text readability on glass surfaces */
.glass-primary,
.glass-secondary,
.glass-tertiary,
.glass-overlay,
.glass-modal {
  color: rgb(var(--foreground));
}

/* Fix for specific components */
.loading-overlay {
  background: var(--glass-bg-overlay) !important;
  backdrop-filter: blur(var(--backdrop-blur-md));
  -webkit-backdrop-filter: blur(var(--backdrop-blur-md));
}

/* Annotation panel glass fix */
.annotation-panel {
  background: var(--glass-bg-primary) !important;
}

/* Settings panel glass fix */
.settings-panel {
  background: var(--glass-bg-primary) !important;
}

/* Search panel glass fix */
.search-panel {
  background: var(--glass-bg-primary) !important;
}

/* TOC panel glass fix */
.toc-panel {
  background: var(--glass-bg-primary) !important;
}

/* Toolbar glass fix */
.reader-toolbar {
  background: var(--glass-bg-secondary) !important;
}

/* Mobile toolbar glass fix */
.mobile-toolbar {
  background: var(--glass-bg-primary) !important;
}